<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TheaterBookings — Book Tickets</title>
  <style>
    /* Simple, modern styling — mobile-first */
    :root{
      --accent:#ff3b3b;
      --muted:#6b7280;
      --bg:#0f172a;
      --card:#0b1220;
      --glass: rgba(255,255,255,0.03);
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071021 0%, #071428 60%);color:#e6eef8}
    .container{max-width:1100px;margin:24px auto;padding:16px}
    header{display:flex;align-items:center;gap:12px}
    .logo{font-weight:800;font-size:1.4rem;color:var(--accent)}
    .searchbar{margin-left:auto;display:flex;gap:8px}
    .searchbar input, .searchbar select{padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}

    .hero{display:grid;grid-template-columns:1fr 360px;gap:16px;margin-top:20px}
    .card{background:var(--card);border-radius:12px;padding:16px;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
    .movies-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:12px}
    .movie{border-radius:10px;overflow:hidden;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);cursor:pointer}
    .movie img{width:100%;height:210px;object-fit:cover;display:block}
    .movie .meta{padding:8px}
    .movie h4{margin:0 0 6px 0;font-size:0.95rem}
    .movie p{margin:0;font-size:0.8rem;color:var(--muted)}

    /* Right column - booking */
    .booking{position:sticky;top:24px}
    .showtimes{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
    .showtime{padding:8px 10px;border-radius:8px;background:var(--glass);cursor:pointer}
    .showtime.selected{background:linear-gradient(90deg,var(--accent),#ff8b8b);color:#071021}

    /* Seat map */
    .seat-map{display:grid;grid-template-columns:repeat(8,36px);gap:8px;justify-content:center;padding:10px}
    .seat{height:36px;width:36px;border-radius:6px;background:#061226;border:1px solid rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;font-size:0.75rem;color:var(--muted);cursor:pointer}
    .seat.vip{background:linear-gradient(180deg,#2b1f4a,#3a2b63);color:#ffe}
    .seat.taken{background:#2b2b2b;color:#777;cursor:not-allowed}
    .seat.selected{background:var(--accent);color:#071021}

    .summary{margin-top:12px}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,var(--accent),#ff8b8b);border:none;color:#071021;font-weight:700;cursor:pointer}

    footer{margin-top:22px;text-align:center;color:var(--muted);font-size:0.85rem}

    @media(max-width:900px){
      .hero{grid-template-columns:1fr}
      .booking{position:relative}
      .movie img{height:160px}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">theaterbookings</div>
      <nav class="searchbar">
        <select id="citySelect">
          <option value="Mumbai">Mumbai</option>
          <option value="Bengaluru">Bengaluru</option>
          <option value="Delhi">Delhi</option>
        </select>
        <input id="searchInput" placeholder="Search movie, theatre, event..." />
      </nav>
    </header>

    <section class="hero">
      <div>
        <div class="card">
          <h2>Now showing near you</h2>
          <div style="height:10px"></div>
          <div class="movies-list" id="moviesList">
            <!-- Movies populated by JS -->
          </div>
        </div>

        <div class="card" style="margin-top:14px">
          <h3>Popular Events & Offers</h3>
          <p style="color:var(--muted);margin-top:8px">Get discounts, early bird offers and M-Ticket options.</p>
        </div>
      </div>

      <aside class="booking card booking" id="bookingCard">
        <h3 id="selectedMovieTitle">Select a movie</h3>
        <div id="posterHolder" style="height:160px;background:linear-gradient(90deg,#071021,#0b1530);border-radius:8px;margin-top:8px;display:flex;align-items:center;justify-content:center;color:var(--muted)">Poster</div>

        <div class="showtimes" id="showtimes"></div>

        <div style="margin-top:12px">
          <strong>Choose seats</strong>
          <div class="seat-map" id="seatMap"></div>
          <div class="summary" id="summary">No seats selected</div>
          <div style="margin-top:10px"><button class="btn" id="payBtn">Proceed to pay</button></div>
        </div>
      </aside>
    </section>

    <footer>Built as a demo — features: city selection, movie discovery, showtimes, interactive seat map, booking summary and payment placeholder.</footer>
  </div>

  <script>
    // Demo data — replace with API calls in a real app
    const movies = [
      {id:1,title:'Aether: The Lost City',duration:'2h 15m',genre:'Action/Sci-fi',img:'https://images.unsplash.com/photo-1517604931442-5f3b8c0f0aa4?auto=format&fit=crop&w=800&q=60'},
      {id:2,title:'Love in September',duration:'2h 05m',genre:'Romance/Drama',img:'https://images.unsplash.com/photo-1505685296765-3a2736de412f?auto=format&fit=crop&w=800&q=60'},
      {id:3,title:'Midnight Heist',duration:'1h 50m',genre:'Thriller',img:'https://images.unsplash.com/photo-1515879218367-8466d910aaa4?auto=format&fit=crop&w=800&q=60'},
      {id:4,title:'The Last Symphony',duration:'2h 30m',genre:'Musical',img:'https://images.unsplash.com/photo-1511379938547-c1f69419868d?auto=format&fit=crop&w=800&q=60'}
    ];

    const moviesListEl = document.getElementById('moviesList');
    const selectedMovieTitle = document.getElementById('selectedMovieTitle');
    const posterHolder = document.getElementById('posterHolder');
    const showtimesEl = document.getElementById('showtimes');
    const seatMapEl = document.getElementById('seatMap');
    const summaryEl = document.getElementById('summary');
    const payBtn = document.getElementById('payBtn');

    let selectedMovie = null;
    let selectedShowtime = null;
    let selectedSeats = new Set();

    function renderMovies(list){
      moviesListEl.innerHTML='';
      list.forEach(m=>{
        const div = document.createElement('div'); div.className='movie';
        div.innerHTML = `<img src="${m.img}" alt="${m.title}" /><div class="meta"><h4>${m.title}</h4><p>${m.genre} • ${m.duration}</p></div>`;
        div.onclick = ()=> selectMovie(m);
        moviesListEl.appendChild(div);
      })
    }

    function selectMovie(m){
      selectedMovie = m;
      selectedMovieTitle.textContent = m.title;
      posterHolder.innerHTML = `<img src="${m.img}" style="width:100%;height:100%;object-fit:cover;border-radius:8px" alt="poster"/>`;
      renderShowtimes();
      resetSeats();
    }

    function renderShowtimes(){
      showtimesEl.innerHTML='';
      // sample showtimes
      const times = ['10:30 AM','1:45 PM','4:30 PM','7:30 PM','10:45 PM'];
      times.forEach(t=>{
        const b = document.createElement('div'); b.className='showtime'; b.textContent=t;
        b.onclick = ()=>{ document.querySelectorAll('.showtime').forEach(s=>s.classList.remove('selected')); b.classList.add('selected'); selectedShowtime=t; resetSeats(); }
        showtimesEl.appendChild(b);
      })
    }

    function resetSeats(){
      selectedSeats.clear();
      seatMapEl.innerHTML='';
      summaryEl.textContent='No seats selected';
      // create a 6 rows x 8 cols seat map
      const rows=6, cols=8;
      for(let r=0;r<rows;r++){
        for(let c=0;c<cols;c++){
          const seat = document.createElement('div');
          seat.className='seat';
          // mark some seats as taken randomly for demo
          const taken = Math.random() < 0.12;
          if(taken) seat.classList.add('taken');
          // vip row
          if(r===0) seat.classList.add('vip');
          seat.textContent = String.fromCharCode(65+r) + (c+1);
          seat.onclick = ()=>{
            if(seat.classList.contains('taken')) return;
            if(selectedSeats.has(seat.textContent)){
              selectedSeats.delete(seat.textContent);
              seat.classList.remove('selected');
            } else {
              selectedSeats.add(seat.textContent);
              seat.classList.add('selected');
            }
            updateSummary();
          }
          seatMapEl.appendChild(seat);
        }
      }
    }

    function updateSummary(){
      if(selectedSeats.size===0){ summaryEl.textContent='No seats selected'; return }
      const seats = Array.from(selectedSeats).sort();
      const qty = seats.length;
      // pricing demo — vip seats cost more
      let total = 0;
      seats.forEach(s=>{ if(s[0] === 'A') total += 300; else total += 200 });
      summaryEl.innerHTML = `Selected (<strong>${qty}</strong>): ${seats.join(', ')}<br/>Total: ₹ <strong>${total}</strong>`;
    }

    payBtn.onclick = ()=>{
      if(!selectedMovie){ alert('Please select a movie first'); return }
      if(!selectedShowtime){ alert('Please pick a showtime'); return }
      if(selectedSeats.size===0){ alert('Please choose at least one seat'); return }
      // Placeholder for checkout integration
      alert('Demo checkout — in a real app integrate a payment gateway and server-side booking confirmation.');
    }

    // Search filtering
    document.getElementById('searchInput').addEventListener('input', (e)=>{
      const q = e.target.value.toLowerCase();
      const filtered = movies.filter(m=> (m.title + m.genre).toLowerCase().includes(q));
      renderMovies(filtered);
    })

    // City change — would normally refetch shows for that city
    document.getElementById('citySelect').addEventListener('change', ()=>{
      // show micro-feedback
      console.log('City changed — in a real app fetch shows for:', document.getElementById('citySelect').value);
    })

    // init
    renderMovies(movies);
  </script>
</body>
</html>

